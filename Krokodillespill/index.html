<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krokodille Spillet</title>
</head>

<body>
    <!-- Oppgave - Krokodillespill
    Lag krokodille-spillet! På bildet ser vi under hvordan det skal se ut.

    krokkod
    Når du trykker reset-knappen genereres to random tall mellom 1-10

    Mellom tallene, må du ha et input felt. Her er det meningen at man skal sammenligne tallene og 
    skrive riktig operator!

    Når man trykker submit - må man sjekke at man har skrevet inn riktig tegn i input-feltet og 
    oppdatere poengsummen. Riktig svar plusser på 1 poeng, feil svar trekker fra et poeng.

    Bruk variabler, onclick, if/else og random for å løse oppgaven! ;) Lykke til!

    
    Ex:
    Dersom det første tallet er større enn det andre, må man skrive inn ">" for å få riktig svar, 
    dersom det første tallet er mindre enn må man skrive "<" og dersom tallene er like bruker man "="

    1 (inputfelt) 7 (submit btn) points: 0

    -------

    1 < 7 skriver inn "mindre enn" - trykker submit så vil poengscore oppdateres points: 1 
    -->
    <div id="app"></div>
    <script>
        const app = document.getElementById("app");

        let n1 = 0;
        let n2 = 0;
        let points = 0;
        let highScore = Number(localStorage.getItem("highScore")) || 0;

        let symbol = '';


        function updateView() {
            app.innerHTML = /*HTML*/ `   
                <h1>Krokodille Spillet</h1>
                <span id="tall1" class="numL">1</span>
                <input onchange="inputSender(this.value)">
                <span id="tall2" class="numR">2</span>

                <p id="textDiv"></p>
                <p id="pointboard">Points: ${points}</p>
                <p id="scoreboard">Highscore: ${highScore}</p>

                <button onclick="btnClicked()">Submit</button>
                <button onclick="reset()">Reset</button>
                `;

            rng();
        }
        updateView()





        function rng() {
            n1 = Math.floor(Math.random() * 10) + 1; // +1 gjør så det laveste tallet blir 1 istedenfor 0
            n2 = Math.floor(Math.random() * 10) + 1;

            tall1.textContent = n1;
            tall2.textContent = n2;
        }


        function inputSender(symbolSent) {
            symbol = symbolSent
        }


        function btnClicked() {
            let correct = false;

            if (n1 == n2 && symbol == '=') correct = true;
            else if (n1 > n2 && symbol == '>') correct = true;
            else if (n1 < n2 && symbol == '<') correct = true;
            else correct = false;

            if (correct) {
                textDiv.textContent = "Correct";
                console.log(correct);
                points++;

                updateView();
            } else {
                textDiv.textContent = "Incorrect";
                console.log(correct);
                savePointsToHS(points);
                updateView();
            }
        }


        function savePointsToHS(pointsRecieved) {
            if (points > highScore) {
                highScore = points;
                localStorage.setItem("highScore", highScore);
            }
            console.log(highScore)
            points = 0;
        }


        function reset() {
            localStorage.clear();
            location.reload();
        }

    </script>


</body>

</html>